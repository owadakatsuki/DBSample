<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>MENU</title>
</head>
<body>






<h1 align="center"><font color="#ff9933">MENU</font></h1>

<form action="/" method="GET">
	<input type="submit" style="position: absolute; right: 10px; top: 10px" value="ログアウト" />
</form>

<div align="center">


<script th:inline="javascript">
if (th:text="${user_info.getRole()}" == "role") {


<form action="/userlist" method="GET">
	<p class="submit">
		<input type="submit" style="margin:0px; " value="ユーザ一覧" />
	</p>
</form>

}

</script>


<div id="make_form">

		<form action="createNewQuestion" method="GET">
		<p class="submit">
			<input type="submit" style="margin:0px; " value="フォーム作成" />
		</p>
		</form>
</div>

</div>

<script th:inline="javascript">


	if (th:text="${user_info.getRole()}".equals("admin")) {
		document.getElementById("make_form").style.visibility = "collapse";
	}


</script>



<div style="height:500px; width:800px; margin: 0 auto; overflow-y:auto;">
	<table border="1" height="500" width="750">
	<caption align="left">フォーム一覧</caption>
		<tr>
			<th>解答番号</th>
			<th>タイトル</th>
			<th></th>
		</tr>
		<tr th:each="contentList :${contentList}">
			<td width="100" align="center" th:text="${contentList.getContent_id()}"></td>
			<td width="500" th:text="${contentList.getContent_title()}"></td>

			<td>
			<div style="display:inline-flex">
				<form action="/form" method="POST" th:object="${contentList}" >
					<input type="hidden" name="content_id" th:value="*{content_id}" />
					<input type="hidden" name="content_title" th:value="*{content_title}" />
					<input type="submit" style="margin:1px; float:left;" value="解答" />
				</form>
				<form action="/make_form" method="GET">
					<input type="hidden" name="contentId" th:value="${contentList.getContent_id()}" />
					<input type="submit" style="margin:1px; float:left;" value="更新" />
				</form>
				<form action="/remove" method="GET">
					<input type="hidden" name="contentId" th:value="${contentList.getContent_id()}" />
					<input type="submit" style="margin:1px; float:left;" value="削除" />
				</form>
			</div>
			</td>

		</tr>
	</table>
	</div>
</body>
</html>	