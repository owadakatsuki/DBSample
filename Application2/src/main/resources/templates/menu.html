<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>MENU</title>
</head>
<body>

<h1 align="center"><font color="#ff9933">MENU</font></h1>

<form action="/" method="GET">
	<input type="submit" style="position: absolute; right: 10px; top: 10px" value="ログアウト" />
</form>

<div align="center" data-th-if="${user_info.getRole() eq 'admin'}">
	<form action="/userlist" method="GET">
			<input type="submit" style="margin:0px; " value="ユーザ一覧" />
	</form>

	<form action="createNewForm" method="GET">
			<input type="submit" style="margin:0px; " value="フォーム作成" />
	</form>
</div>

<div style="height:500px; width:800px; margin: 0 auto; overflow-y:auto;">
	<table border="1">
	<caption align="left">フォーム一覧</caption>
		<tr>
			<th width="100">解答番号</th>
			<th width="530">タイトル</th>
			<th width="130"></th>

		</tr>
		<tr th:each="contentList :${contentList}">
			<td width="100" height="70" align="center" th:text="${contentList.getContent_id()}"></td>
			<td width="500" height="70" th:text="${contentList.getContent_title()}"></td>

			<td>
			<div style="display:inline-flex">
				<form action="/form" method="POST" th:object="${contentList}" >
					<input type="hidden" name="content_id" th:value="*{content_id}" />
					<input type="hidden" name="content_title" th:value="*{content_title}" />
					<input type="submit" style="margin:1px; float:left;" value="解答" />
				</form>

				<div data-th-if="${user_info.getRole() eq 'admin'}">
					<form action="/make_form" method="GET">
						<input type="hidden" name="contentId" th:value="${contentList.getContent_id()}" />
						<input type="submit" style="margin:1px; float:left;" value="更新" />
					</form>
				</div>

				<div data-th-if="${user_info.getRole() eq 'admin'}">
					<form action="/remove" method="GET">
						<input type="hidden" name="contentId" th:value="${contentList.getContent_id()}" />
						<input type="submit" style="margin:1px; float:left;" value	="削除" />
					</form>
				</div>

			</div>
			</td>

		</tr>
	</table>
</div>
</body>
</html>